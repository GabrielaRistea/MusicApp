@model IEnumerable<Music_App.Models.Artist>
@{

    ViewData["Title"] = "Artists";

}

<style>
    /* body { */
    /*     background-color: #121212; */
    /*     font-family: 'Segoe UI', sans-serif; */
    /* } */

    .artists-title {
    color: white;
    font-size: 40px;
    text-align: center;
    margin-top: 30px;
    }

    .add-button-container {
    text-align: center;
    margin: 20px 0;
    }

    .add-button {
    background-color: #1db954;
    color: white;
    padding: 10px 20px;
    border: none;
    font-size: 16px;
    border-radius: 8px;
    text-decoration: none;
    transition: background-color 0.3s ease;
    }

    .add-button:hover {
    background-color: #159944;
    }


    .outer-green-box {
    background-color: #10b65c;
    padding: 40px;
    /* border-radius: 25px; */
    margin: 40px auto;
    width: 90%;
    max-width: 1600px;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }

    .artists-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 30px;
    justify-content: center;
    }

    .artist-card {
    background-color: #2ecc71;
    border-radius: 20px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
    transition: transform 0.2s ease;
    }

    .artist-card:hover {
    transform: scale(1.02);
    }

    .artist-card img {
    width: 130px;
    height: 130px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid white;
    margin-bottom: 15px;
    }

    .artist-name {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 10px;
    color: black;
    }

    .artist-actions {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
    }

    .artist-actions a {
    font-size: 13px;
    padding: 6px 10px;
    border-radius: 6px;
    text-decoration: none;
    color: white;
    transition: background-color 0.3s ease;
    }

    .artist-actions .edit {
    background-color: #007bff;
    }

    .artist-actions .details {
    background-color: #17a2b8;
    }

    .artist-actions .delete {
    background-color: #dc3545;
    }

    .artist-actions a:hover {
    opacity: 0.9;
    }
</style>

<div class="artists-title">Artists</div>
@if (User.IsInRole("admin"))
{
    <div class="add-button-container">
        <a asp-action="Create" class="add-button">+ Add New Artist</a>
    </div>
}

<div class="outer-green-box">
    <div class="artists-grid">
        
        @foreach (var artist in Model)
        {
            
            <div class="artist-card">
                <a asp-area="" asp-controller="Albums" asp-action="AlbumGroupByArtist" asp-route-artistId="@artist.Id" class="btn-info">
                    <i class="artist-grid"></i>
                
                <img src="@(artist.ArtistImage != null
                ? $"data:image/jpeg;base64,{Convert.ToBase64String(artist.ArtistImage)}"
                : Url.Content("~/images/default-artist.png"))"
                     alt="@artist.Name" />
                </a>

                <div class="artist-name">@artist.Name</div>

                @if (User.IsInRole("admin"))
                {
                    <div class="artist-actions">
                        <a asp-action="Edit" asp-route-id="@artist.Id" class="edit">Edit</a>
                        <a asp-action="Details" asp-route-id="@artist.Id" class="details">Details</a>
                        <a asp-action="Delete" asp-route-id="@artist.Id" class="delete">Delete</a>
                    </div>
                }
            </div>
           
        }
        
    </div>
</div>
